<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Swim Across Columbia</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <!-- Title section (outside the images container) -->
      <h1>Swim Across Columbia</h1>
      
      <!-- Images and stats section -->
      <div class="header-images">
        <div class="header-center">
          <img src="assets/background.JPG" alt="Main Image" class="header-main-image" loading="lazy">
          <div class="stats-container">
            <div class="stat-box">
              <span class="stat-number">~ 6 Miles</span>
              <span class="stat-label">Challenge</span>
            </div>
            <div class="stat-box">
              <span class="stat-number">~ 65°F</span>
              <span class="stat-label">Water Temp</span>
            </div>
            <div class="stat-box">
              <span class="stat-number">∞ Stories</span>
              <span class="stat-label">History</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <nav>
      <div class="mobile-menu-toggle">Menu ☰</div>
      <ul>
        <li><a href="#" data-tab="overview">Event Overview</a></li>
        <li><a href="#" data-tab="records">2024 SAC</a></li>
        <li><a href="#" data-tab="sponsor">Partners</a></li>
        <li><a href="#" data-tab="signup">Register</a></li>
        <!--
        <li><a href="#" data-tab="advertise">Staying in Astoria</a></li>
        <li><a href="#" data-tab="merch">Merch</a></li>
        -->
        <li><a href="#" data-tab="contact">Contact Us</a></li>
      </ul>
    </nav>

    <main>
      <div id="overview" class="tab-content active">
        <h2>Event Overview</h2>
        
        <!-- Mobile-only logo grid -->
        <div class="mobile-logo-grid">
          <div class="logo-wrapper">
            <img src="assets/regatta.jpg" alt="Regatta Festival Logo" loading="lazy">
          </div>
          <div class="logo-wrapper">
            <img src="assets/CMHLogo.png" alt="CMH Logo" loading="lazy">
          </div>
        </div>
        
        <!-- Three-column desktop layout -->
        <div class="overview-three-column">
          <!-- Left logo -->
          <div class="side-logo left-logo">
            <div class="logo-wrapper">
              <img src="assets/regatta.jpg" alt="Regatta Festival Logo" loading="lazy">
            </div>
          </div>
          <div class="overview-content">
              <h3>Swim Across the Columbia</h3>
              <p><strong>Knappton Cove, WA to Astoria, OR</strong></p>
              <p><em><a href="https://www.astoriaregatta.com/" target="_blank">2025 Astoria Regatta Festival</a></em></p>
              <p><em>Supporting <a href="https://www.columbiamemorial.org/" target="_blank">BuildCMH</a></em></p>
              <p>This historic swim was first organized in 1934 as part of Astoria's Regatta Festival. In <a href="#" class="tab-switcher" data-target-tab="records">2024 the swim</a> was restored, and 14 swimmers completed the trek from Washington to Astoria.</p>
              <p><strong>Saturday, July 19, 2025</strong></p>
              <p><strong>Starting at 7:00 A.M.</strong></p>
              
              <h4>Location & Course</h4>
              <p>The course is approximately 6 miles (10 km) beginning on the north shore of the lower Columbia River in Knappton Cove. Swimmers will enter the water on the beach directly in front of the Knappton Cove Heritage Center. The finish is at the Astoria City Wharf adjacent to the Columbia River Maritime Museum. The distance is 5.1 miles as the crow flies but swimmers will be led upriver with the incoming tide which will lengthen this adventure swim to well over 6 miles.</p>
              <div class="overview-image">
                <img src="assets/sacRoute.png" alt="Event Route Map" loading="lazy">
              </div>
              <p>Water temperature is expected to be 64–70 degrees Fahrenheit.</p>
              
              <h4>Tides & Start Time</h4>
              <p>High tide on July 19, 2025, is 9:23 am. The swim will start at 7:00 am and all swimmers must be out of the water by 11:15 am.</p>
              
              <h4>Entry & Registration</h4>
              <p>Entry is limited to the first 40 entrants. We will maintain a waiting list in case early entrants drop out. To qualify, swimmers must show that they have completed a minimum 5000 m/5500 yd swim faster than 1:40, within 3 years of race day. (2024 Swim Across the Columbia finishers qualify.) Swimmers who cannot complete one mile in open water in 35 minutes should NOT enter.</p>
              <p>All entries MUST be registered by 4:59 pm Pacific time on Sunday, July 13, 2025. Due to organization & safety needs, late or day-of-race entries will not be accepted.</p>
              
              <h4>Perspective Swimmers</h4>
              <ol>
                  <li>This swim should only be attempted by experienced open water swimmers. Tidal and river currents, potential debris, and boating traffic including large commercial vessels makes this course high-risk for participating swimmers.</li>
                  <li>Qualifying swims do not have to take place during competition, but registration requires the location of the swim and the signature of an observer.</li>
                  <li>If you make a mistake in your entry, we will make a good-faith effort to get your correct qualifying swim information. However, swimmers who cannot provide appropriate qualifying time information WILL NOT BE PERMITTED TO SWIM and their entry fee will not be refunded.</li>
              </ol>
              
              <h4>Cancellation Policy</h4>
              <p>Swimmers who do not participate, or who do not complete the swim, are not eligible for refunds. If the swim is canceled up to 60 days prior to race day, 50% of entry fees will be refunded. If the swim is canceled less than 60 days prior to race day, no fees will be refunded.</p>
              
              <h4>Rules</h4>
              <ul>
                  <li><strong>SAFETY TOW BUOYS (STBs):</strong> All swimmers MUST wear the STB during their entire swim. STBs are defined as inflatable buoys tethered to the waist of the swimmer.</li>
                  <li>Swimmers must wear the cap provided in their swim packet.</li>
                  <li>Swimmers must notify race organizers by Friday, June 28, 2024, if the cap cannot be worn for medical reasons. You will need to wear a suitable cap of the color assigned to you for your wave.</li>
                  <li>This adventure swim will allow wetsuits and swim fins.</li>
                  <li>Each swimmer must have a personal watercraft as an escort — kayak, paddler, or jet ski.</li>
                  <li>Watercraft with props must maintain a safe distance from swimmers — 10 meter minimum.</li>
              </ul>
              
              <h4>Cut-Off Times</h4>
              <p>Checkpoints will be established. Time standards for each checkpoint will be explained at the pre-race meeting. Swimmers must complete the swim by 11:15 am.</p>
              
              <h4>Safety — Our Primary Concern</h4>
              <p>Safety boats will monitor the entire course and medical personnel will be on site at the finish. Swimmers are required to have an escort craft (kayak, SUP, jet ski) in a life vest and equipped with an additional life vest for the swimmer. Each escort will be provided additional mandatory race-specific safety materials. Swimmers MUST wear the brightly-colored swim cap and use the STB provided in their race packet. Swimmers and escorts must follow all announced safety rules without exception.</p>
              
              <h4>Escorts</h4>
              <p>Swimmers are required to have an escort in a craft (e.g., kayak). Swimmers must provide their own escort and craft. For swimmer safety, watercraft with props are not permitted to escort swimmers. Solo swimmers coming to the race from out of the area may request a volunteer escort in their registration form. We'll do our best to hook you up.</p>
              
              <h4>Schedule: July 19, 2025</h4>
              <ul>
                  <li>5:30-6:40 am Check-in at Knappton Cove Beach</li>
                  <li>6:45 am Pre-race meeting</li>
                  <li>7:00 am Swim start</li>
                  <li>11:15 am Swimmers who have not reached mile 6 will be stopped & transported to the race finish.</li>
                  <li>12:15 pm Awards at finish in Columbia River Maritime Museum (CRMM)</li>
              </ul>
              
              <h4>Logistics</h4>
              <p>Swimmer and escort must arrange for drop off at Knappton Cove on the morning of the event. Transportation back to Knappton Cove will be provided with prior notice.</p>
              
              <h4>Awards</h4>
              <p>All finishers will receive a 2025 <strong>Swim Across the Columbia</strong> trophy.</p>
          </div>
          <div class="side-logo right-logo">
            <div class="logo-wrapper">
              <img src="assets/CMHLogo.png" alt="CMH Logo" loading="lazy">
            </div>
          </div>
        </div>
      </div>
      <div id="sponsor" class="tab-content">
        <h2>Our Strategic Partners</h2>
        <div class="sponsor-grid">
            <a href="https://www.astoriaregatta.com/" target="_blank" class="sponsor-card">
                Regatta 2025
            </a>
            <a href="https://www.columbiamemorial.org/" target="_blank" class="sponsor-card">
              Columbia Memorial Hospital
            </a>
            <a href="https://northcoastrunners.com/" target="_blank" class="sponsor-card">
              Kevin Staples and Northwest Runners Supply
            </a>
            <a href="https://www.crmm.org/" target="_blank" class="sponsor-card">
              Columbia River Maritime Museum
            </a>
            <a href="https://www.knapptoncoveheritagecenter.org/" target="_blank" class="sponsor-card">
              Knappton Cove Heritage Center and the Bell Family
            </a>
            <a href="https://www.commodorehotelastoria.com/" target="_blank" class="sponsor-card">
              Commodore Hotel
            </a>
        </div>
      </div>
      <div id="records" class="tab-content">
        <h2>2024 News</h2>
        <ul>
          <li><a href="https://www.koin.com/sports/astoria-er-doctor-headlines-swim-across-the-columbia-river/" target="_blank">2024 Winner: Astoria ER doctor headlines swim across the Columbia River</a></li>
          <li><a href="https://www.dailyastorian.com/news/local/swimmers-brave-splash-across-the-columbia/article_5cd3d4e0-584e-11ef-ae31-c764f035d6ab.html" target="_blank">2024 Event Review</a></li>
          <li><a href="https://www.kptv.com/2024/08/12/swimmers-cross-columbia-river-astoria-raise-money-hospital/" target="_blank">Swimmers cross Columbia River at Astoria to raise money for hospital</a></li>
          <li><a href="https://sports.yahoo.com/swimmers-brave-splash-across-columbia-035900436.html?guccounter=1&guce_referrer=aHR0cHM6Ly93d3cuYmluZy5jb20v&guce_referrer_sig=AQAAACv7MLdxrgaP2Xrnt5WpypAwrQzhvl7-qR7UusnyGlmHtsdknqAiAIEhCPYCCzej0gTq4DarcKnumUISUOclRuzF3LnZeg5jAtGG6Oc9i0doknyjtB39ufVJVt8HNZdlOt7TK0NSGg5sbP86DisI_18Tt5BS4f1jiwCXEhuryujC" target="_blank">Swimmers brave splash across the Columbia - Yahoo Sports</a></li>
          <li><a href="https://seasidesignal.com/2024/08/13/swimmers-brave-splash-across-the-columbia/" target="_blank">Swimmers brave splash across the Columbia | Seaside Signal</a></li>
          <li><a href="https://www.opb.org/article/2024/08/17/astoria-swim-across-columbia/" target="_blank">Oregon swimmer braves a 5-mile swim across the Columbia River — and her own trauma - OPB</a></li>
        </ul>
        <h2>2024 Event Gallery</h2>
        <div class="gallery-container" id="gallery-container"></div>
      </div>
      <div id="signup" class="tab-content">
        <h2>Registration</h2>
        <div class="registration-container">
          <!-- Changed structure -->
          <div class="registration-selector">
            <button class="reg-option" data-type="swimmer">Swimmer Registration</button>
            <button class="reg-option" data-type="dryswim">Dry Swim Registration</button>
            <button class="reg-option" data-type="escort">Escort Registration</button>
            <button class="reg-option" data-type="volunteer">Volunteer Registration</button>
          </div>
      
          <!-- Forms container added -->
          <div class="forms-wrapper">
            <!-- Swimmer Form -->
            <form id="swimmer-form" class="reg-form">
              <h3>Swimmer Registration</h3>
              
              <!-- Add donation information box -->
              <div class="donation-info">
                <p>To participate in the Swim Across the Columbia must provide a minimum donation of $350 (tax deductible which goes to the Columbia Memorial Foundation supporting the <a href="https://www.columbiamemorial.org/buildcmh/" target="_blank">BuildCMH project</a>).</p>
              </div>
              
              <div class="form-section">
                <label>Full Name: <input type="text" name="name" required></label>
                <label>Email: <input type="email" name="email" required></label>
                <label>Phone: <input type="tel" name="phone" required></label>
                
                <div class="random-escort-section">
                  <label>Don't Have an Escort and Need Assigned a Random One?
                    <select name="random_escort" required id="swimmer-random-escort">
                      <option value="yes">Yes</option>
                      <option value="no">No</option>
                    </select>
                  </label>
                  <div class="escort-details">
                    <label>Escort Name: <input type="text" name="escort_name"></label>
                  </div>
                </div>
              </div>
              <button type="submit" class="submit-btn">Submit</button>
            </form>

            <!-- Escort Form -->
            <form id="escort-form" class="reg-form">
              <h3>Escort Registration</h3>
              <div class="form-section">
                <label>Full Name: <input type="text" name="name" required></label>
                <label>Email: <input type="email" name="email" required></label>
                <label>Phone: <input type="tel" name="phone" required></label>
                
                <!-- Add watercraft type field -->
                <label>Type of Watercraft: 
                  <input type="text" name="watercraft_type" required 
                        placeholder="e.g., Kayak, Canoe, Jet Ski">
                </label>
            
                <div class="random-swimmer-section">
                  <label>Escorting Random Swimmer?
                    <select name="escort_random" required id="escort-random-swimmer">
                      <option value="yes">Yes</option>
                      <option value="no">No</option>
                    </select>
                  </label>
                  <div class="swimmer-details">
                    <label>Escorting For: <input type="text" name="escorting_for" required></label>
                  </div>
                </div>
              </div>
              <button type="submit" class="submit-btn">Submit</button>
            </form>
      
            <!-- Volunteer Form -->
            <form id="volunteer-form" class="reg-form">
              <h3>Volunteer Registration</h3>
              <div class="form-section">
                <label>Full Name: <input type="text" name="name" required></label>
                <label>Email: <input type="email" name="email" required></label>
                <label>Phone: <input type="tel" name="phone" required></label>
              </div>
              <button type="submit" class="submit-btn">Submit</button>
            </form>
      
            <!-- Dry Swim Form -->
            <form id="dryswim-form" class="reg-form">
              <h3>"Stay Dry" Registration</h3>
              
              <!-- Add donation information box -->
              <div class="donation-info">
                <p>$35 - t-shirt and finish picture ($20 tax deductible)</p>
              </div>
              
              <div class="form-section">
                <label>Full Name: <input type="text" name="name" required></label>
                <label>Email: <input type="email" name="email" required></label>
                <label>Phone: <input type="tel" name="phone" required></label>
              </div>
              <button type="submit" class="submit-btn">Submit</button>
            </form>
          </div>
        </div>
        <div id="form-status"></div>
      </div>
      <!--
      <div id="advertise" class="tab-content">
        <h2>Discounts and Local Highlights</h2>
        <ul>
          Coming soon.
        </ul>
        
      </div>
      <div id="merch" class="tab-content">
        <h2>Coming Soon</h2>
        
      </div>
      -->
      <div id="contact" class="tab-content">
        <h2>Contact Us</h2>
        
        <div class="contact-container">
          <div class="contact-card">
            <div class="contact-header">
              <h3>Event Leadership</h3>
            </div>
            <div class="contact-content">
              <div class="contact-person">
                <h4>Event Director</h4>
                <p class="contact-name">Paul Silka</p>
                <p class="contact-email">
                  <a href="mailto:psilka@columbiamemorial.org">psilka@columbiamemorial.org</a>
                </p>
              </div>
              
              <div class="contact-person">
                <h4>Additional Inquiries</h4>
                <p class="contact-name">Rebekah Gustin</p>
                <p class="contact-email">
                  <a href="mailto:rgustin@columbiamemorial.org">rgustin@columbiamemorial.org</a>
                </p>
              </div>
            </div>
          </div>
          
          <div class="contact-info">
            <div class="contact-message">
              <h3>About Swim Across Columbia</h3>
              <p>The Swim Across Columbia is a historic event that challenges swimmers to cross the mighty Columbia River from Washington to Oregon. This 6-mile journey is part of the Astoria Regatta Festival and supports the BuildCMH project at Columbia Memorial Hospital.</p>
              <p>Our team is dedicated to providing a safe and memorable experience for all participants. Please don't hesitate to reach out with any questions about registration, safety requirements, or event details.</p>
            </div>
            
            <div class="contact-links">
              <h3>Quick Links</h3>
              <ul>
                <li><a href="#" data-tab="overview" class="tab-switcher">Event Overview</a></li>
                <li><a href="#" data-tab="signup" class="tab-switcher">Registration</a></li>
                <li><a href="#" data-tab="sponsor" class="tab-switcher">Our Partners</a></li>
                <li><a href="https://www.columbiamemorial.org/buildcmh/" target="_blank">BuildCMH Project</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    </main>
  </div>
  <!-- Add this at the end of the body, before the closing </body> tag -->

  <!-- Waiver Modal -->
  <div class="modal" id="waiverModal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h3>Swim Across Columbia Waiver</h3>
      
      <!-- PDF Viewer -->
      <div class="pdf-container">
        <iframe id="waiver-pdf" src="assets/waiver.pdf" width="100%" height="400px"></iframe>
      </div>
      
      <!-- Agreement Section -->
      <div class="waiver-agreement">
        <div class="agreement-checkbox">
          <input type="checkbox" id="waiver-agree" name="waiver-agree" required>
          <label for="waiver-agree">I have read and agree to the terms outlined in the attached waiver. I am aware that this open-water swim involves risks of injury and exposure to the elements. I voluntarily accept these risks and release Columbia Memorial Hospital, its employees, and volunteers from any and all liability for any injury, loss, or damage I may sustain while participating in this swim.</label>
        </div>
        
        <!-- Initials Section -->
        <div class="initials-section">
          <label for="waiver-initials">Please enter your initials to confirm:</label>
          <input type="text" id="waiver-initials" name="waiver-initials" maxlength="5" required placeholder="Your initials">
        </div>
        
        <div class="waiver-buttons">
          <button id="cancel-waiver" class="cancel-btn">Cancel</button>
          <button id="confirm-waiver" class="submit-btn">I Agree</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Modal (shown after successful submission) -->
  <div class="modal" id="successModal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div class="success-message">
        <h3>Registration Submitted Successfully!</h3>
        <p>Thank you for registering for the Swim Across Columbia. However, your registration is not complete until you made your payment <a href=https://interland3.donorperfect.net/weblink/weblink.aspx?name=E329858&id=24" target="_blank">Here</a>.</p>
        <button class="submit-btn close-success">OK</button>
      </div>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="script.js"></script>
  <script>
    // Prevent zoom on focusing inputs on mobile
    document.addEventListener('gesturestart', function(e) {
      e.preventDefault();
    });
    
    // Detect when the mobile keyboard is visible
    const originalHeight = window.innerHeight;
    window.addEventListener('resize', () => {
      // If height reduced significantly, keyboard is likely visible
      if (window.innerHeight < originalHeight * 0.75) {
        // Scroll to the focused element
        if (document.activeElement.tagName === 'INPUT' || 
            document.activeElement.tagName === 'SELECT' || 
            document.activeElement.tagName === 'TEXTAREA') {
          setTimeout(() => {
            document.activeElement.scrollIntoView({
              behavior: 'smooth',
              block: 'center'
            });
          }, 100);
        }
      }
    });
  </script>
</body>
</html>